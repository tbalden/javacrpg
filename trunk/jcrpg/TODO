--------------------------------------------------------------------------------------


This TODO file is licensed under GPL v3 license as part of the jcrpg project.

(C) 2007 author is Illes Pal, all ideas here are part of the copyrighted property


--------------------------------------------------------------------------------------

[ ] leveling for chars/entityMembers, points for them, bars on UI
[ ] groups trespassed - icons - UI

[ ] performance decreasing with time! debug it, what eats what
	[-] map problem, load texture didn't help -> or maybe something else... releaseTexture didn't help, maybe not a map problem
	[ ] audio system??
	
[ ] farview problems -> left over of unneeded magnified farview models model geom batches, trees, all !! :-O

[?] mushroom quad size is not good, it's not scaled correctly!!!

[X] local map on screen
 [ ] develop it more, sides not just bottom
 [ ] a giant 3d bitmap for explored area to make a local map charting work 

[ ] Skill tuner page with subframes - selecting a group of skills makes changing to those skill tuners - just like in Wiz7
[ ] common Profession extension for superclass of professions with pre-added normal skills available for any profession

[ ] social skills -> in a combat these people can throw their different skills into combat -> fighting other social skills
of the enemy or friend. We'll have to develop different 'words' for the different skills to make it really funny, and make 
a peaceful solution available in most of the cases.

[ ] possible portraits? http://search.freegamedev.net/artitems/tag/campaigns

[ ] rocks to mountain side with new RenderedHashGeneratedSides probably...


[?] gorilla model scaling -> walk in the air :-) recenter in blender?? -> fixed temp for gor only probably.

[ ] Combat !!!! 
	combat encounter -> regroup friendly units left/right flank of player!! :-) Enemies remain opposite of player. --- make possible to look around while combat! ;-)

[ ] ecology
    [ ] sophisticated generation -> geography, water food etc...
    [ ] foodchain - generation and per turn eat, plus multiplication etc.
    [ ] turn choice of AI, skills involved etc.
    [ ] moving of groups, fixed groups
  	[ ] hierarchy -> dynamic, boundaries added together, processed to the top of the hierarchy -> events possible on every level of living example: country <-> city population <-> guards etc.
	[ ] entering domain in a given turn will trigger possibilities for you to start skill based processes -> trying to hunt down animals in the domain, or avoiding a group of bandits there
	[ ] foodchain based generation, growing/decay, multiplication, new groups later ...
    
[ ] encounter system
    [ ] encounter choices, skills etc, UI elements
    [ ] combat - grouped, decisions etc., attribute + skill to lists

Groups:
	Dune/Wizardry like depersonalized groups moving around! Special NPC and such likely as part of groups.
	Hash sorted coordinates in a domain. Create moving cursors for humanoid communication. 
	Decisions made by player affect back through the group if depersonalized is subject.

each entity will look for the groups nearby every turn. Even if the nearby entity have acted on it a new acting from itself is needed in every case.
The unit shall check if there is common intersection with more than one nearby entity and do a common act upon them in one act not two. In this
case it can use as much entity of it as the sum of the common radius would allow!! 
If they don't intersect do two separate act for each other nearby entity.


EntityGroups won't do sophisticated positioning when acting between themselves -> only ActionPoint based thing should be implemented. 

With player : PositionCalculus is used and extended for different Entities.

UI:
--
[ ] combat thingies...
[ ] player choice window -> actions when meeting entities
[ ] UI worldmap	
	[ ] geographies -> !!! mountains/forests/plains different gray
	[ ] cities... 
[ ] UI transparent text box in the middle bottom, small contrast fonts, transparent, like FPSnode (take a look at that one!)
[ ] UI detailed map
[ ] ui element encounter predisplay -> icons representing the lifeform, ? icon if you cannot identify it/don't know it yet.

Moving:
------
[ ] j3dmovingengine
    http://jsourcery.com/api/captiveimagination.com/jmonkeyengine/02-05-2007/jmetest/renderer/TestMipMaps.source.html -> animated model
	[X] wildlife -> rangedBoundaries
	
	[ ] refactor of loadObjects in model loader , extend AnimatedModelNode with additional object nodes like weapon etc... 
[ ] living things foundations -
	[X] !! Boundary based, not really moving, only when you enter the boundary !! -> for turns they can interoperate in their intersecting boundaries! quasi random seed based events / turn
	[X] a common entity engine will process the happenings turn based
	[X] Generator needed for start out - later reproduction system for animals/humans? 


World Generator:
---------------
[-] World generator
	parameterized cool world generation!
	
	[X] Geography GenerationProperty -> what to put on and what not, where to begin where not. Use implementation independent type references for FLOW_BEGIN, FLOW_END etc...
		[ ] sophisticate
		
	[X] rivers depending on oceans! ;-)
		
		[ ] ! River: if no river on two sides endside should be SIDE_NONE!!
			[ ] River end is too rocky in the sea?? check outside water (like geo getoutsideheightpoint, getOutsideWaterPoint)
		
	[ ] mountain bigger than blocks, trickier mountain algorithm. ?
	[ ] valley?
	[ ] lake
	
	[ ] creating "Territories/Areas" of geography -> bigger multiblock areas with DistanceBasedBoundaries! In generation process this can be done
	
	[X] hash based geo placing through a map (like static HashMap), if two geo block is similar, join them into one geo (?)
	

Other:
-----

[ ] light of the skysphere goes wrong with walking one direction a lot! lightnode or sg?

[ ] moving N-S should be limited on map edge!  
[?] movement in 8 direction! new blocker side type -> trees can be moved in between, walls cannot?


[ ] climate
	[ ] swamp , savana climate belt
	[ ] climate levels: SNOW limit to the mountains
	[ ] climate related events -> snowing, rain, UI messages
	[ ] seasonal models for plants
	[ ] detailed fruit object structure later and such!


[ ] Knowledge base Modularity -> things can have knowledge attached to it, which modifies the possibilities of players to handle them:
	plug knowledge about object/monsters/animals etc with the given
	object/being! Thus you can collect bonus info about them random
	scattered around the world, -- beat monsters more easy etc.

[X] Farview render -> only every 5th, 10th, and multiply its scale with it (5 or 10)!
	[ ] make it better with big gaps (non 1)
	[ ] no inside farview from outside! and vica versa?
	[ ] don't load twice as much when farview...more terrain loaded, farview distance param? 

[ ] bounding box oct tree cull -> render much bigger parts? non-always-culling part - subpart of view distance -> if something out of it -> always cull
		if non culled out of render distance -> new render- ---- less loading and such, more memory! think about it
[ ] pool the geom batches, do not use add/remove instance


[ ] lamp key, to switch on/off lamp in the dark!
	[ ] spot light to the user in the night, doesnt work!!


[ ] occluder invisible quad to the tree middle top -> billboard it but in 90 to the camera so you cannot see it, but occluding! :-)
[ ] bumpmapped texture disappear in the night! ?? checkout jme source?
		

[ ] clean up climate and implement all parts of it with conditions, continue the work on it
[ ]	implement changing 3d models, how (updating some of the rendered nodes)? 
[ ] rain, fog, snow?

[ ] mineral system too to the caves etc.

[ ] skySphere change: night sky based on calculated light value (v)
[ ] cloud planes on sky

[ ] add Harek's table to the house


[?] quicken loading of Cubes in Geography etc. 
[?] Lod modelling trees with billboard images captured in blender!

-- ########## DONE

[X] audio support


[X] continental trees should have a more random trunk, not so vertical as it is now

[X] Separate thread for updating audio!
 
[X] Main Menu window!
j3dcore simpleInitGame's end:
// TODO do not call init3DGame - instead view Main Menu window - create it. It will use SaveLoadNew class for game creation, and it will
// call init3DGame. 

[-] portraits, and character creation in new Game window


[X] loading twice results an empty blue screen -> moving makes it good again, culling problem!?

[X] sea
[-] lens flare too intensive with bloom -> check what's to be done - no way to improve yet :-/
[X] Write the wind vertex program? Now it's cpu based!
[-] Tree generation in java code? (billboard leaf quads!)

[-] Wildlife should be generated based on Flora percentage given by flora generators??
	[X] Wildlife -> animal kingdom with a chain of predating, complex fauna interaction rethinking


[X] shadow not appearing! -> because of HUD quad node!

[X] Farview -> render for farview into a different Render Cube array, using the new farView thing in getCube!! Use this in the renderToViewport far part
	[X] farview Y % 4 !

[X] blender STEEP rock and steep other nicer
[X] cave total rewrite needed, especially the entrance and size part! -> make usable with new mountain / valley+underplain?
[X] river review -> mountain gives elements that not existed before

[X] RenderedClimateChangingSide

[X] Ocean -> where to put +/- of height in plain...water is bad!
[X] mountain steep cliff!
	[X] steep rock element for mountain/valley!!
	[-] corner,intersect -> grass on it?? cubic form of grass more sophistication in FloraListElement?

[X] mountain steep walk bug to one direction walk

[X] merging two cubes doesnt seem to work! (when no overwrite)


	[X] ocean gen -> add likeness to stick landmass together that modifies the likeness at maginfication*3 zones for example (it will comb together some parts as a landmass - modifier)
		[X] too levels of stickiness? it is too squarelike right now (use two intersecting magnification zones!)
	[X] add climate
	[X] add Geography areas TO ONE GEO'S BOUNDARY instead of many new items!
		[X] Mountain!!
		
	[-] use filesystem to store world instead of memory?
	[X] bit based Boundaries

[X] Cave -> 1 sized wrong at some places
	[X] no internal flora is appearing!!
	[X] no entrance where you can't enter -> isCaveEmpty() hash

[X] plants inside -> color is wrongly set to outside quad color
	-> this will need some further work as models are pooled and also batched

[X] with inside flora cave limiter walls is not working (maybe OUTSIDE cube is detected because of the flora cube??)

[-] UI
	[X] loading Icon disc
	[X] UI should now be started. Keybindings for views, etc.
	[X] World Map - other menu key binding system - start it in UIBase!
	[X] world map! quick run through the ocean and waters + big geos -> create an image
		[X] more detailed

[X] Bug: moving from world limit -> displays contents behind back

[X] redesign Coordinate system -> totally bad when moving around...shouldn't have all increasing X/Y/Z -> cut down
		but this makes rendering totally bad!
[X] when viewing onto border of globe not showing cubes -> J3DCore TODO fix!	

[X] far view optimizatios for trees? display less tree in the far?
[-] far view replacement of cubes with sg else to look better...a grey plane?

[X] waters rivers, lakes -> add Water superclass, semi inteligent, looking for surface adding river bad if surface, sides, waterfalls
	[X] rivers
	[X] lakes

[-] narrowing quad sized bb part models for pine?

[X] multilevel surface -> use all the surfaces!

[X] Cave: implement surface interface! multilevel cave??
	[X] climate -> inside and outside flora!

[X] jme 1.0 Buffer - Render problem

[-] vertex program jumps -> add camPost to local param and add it to vertex.position before calc
	[X] moving all around when passing
[X] water reflection -> undetailed SUN and MOON too not just skySphere!

[X] Cave: too much side meshes!? how to join them? geomBatch?? 2500 meshes -> 20fps?? smaller view dist for them (model level for rendertoview)?

[-] shadow error, killin render pass
[-] add two phase render to all CKeyAction

[X] wrong billboarding , fix it...on long view distance it is too slow LODding on moving

[X] cherry foliage
[X] wall can be seen inside because of camera point of view too close -> restructure walls to the middle of the node??

[X] when ground from obj model, create new randomly changing RenderedSide with several models 
[-] normal or parallax map to ground !

[X] Charlie's report:
	[X] - grass on hill steep
	[X]	- if view distance is low, caves are very blue inside
	[?]	- if I run into a tree, I often can't turn left until I first turn right
	[X]	- view distance needs combining with fog so things don't "appear" out of nowhere

[X] billboard rotated of foliage upon looking left right very ugly! maybe adding more negation in TrimeshGeomBatch, test it?
[X] fog shader
[X] wind animation shader!

[X] grass to GeometryBatch
	[X] common GeometryBatch for grass -> less object creation?
	[X] billboarding
	[X] animation to grass! shader??
	
[X] quad_bb_tree to GeomBatch with TrimeshGeomBatch, BillboardPartVegetation
	[-] remove batch from treenode's rotation/translation to a pool or something, to make it billboardable?
	[X] do not rotate the parent node of tree, but rotate subnodes, except for trimeshBatchGeom!!!!
	[X] animation??  

[X] lens flare effect lost with new invisible bounding spheres and new geombatch thing
	[X] remove skyrootnode, add the sun directly to ground?

[X] add lowest texture detail for low end cards usable FPS
	[X] test

[X] culling bug!

[X] cave into the mountain!
	[X] settable empty space for entrance cave -> not only one cube at the edge!
	[X] settable level highness, levels that belong together, share the same block/empty pattern
	[X] optimization -> if in cave, display only cave cubes, and some distance of other cubes?
	[X] cave lighting
	[X] use hash rotated side
	[X] flare is visible through the caves! intRootNode to a common parent with extRootNode

[X] looking left / right like up / down
[X] clean up files in SVN
[X] user manual update
[-] if no grass, don't put it on node!
[-] separate thread for render
[X] differentiate angle of renderToViewPort for turning and for normal view mode (parameterized) -> less models
[X] push models back to pool and use Placeholder based on turn / view direction!!
	[X] turning is not right yet
[X] culling problem with reused nodes!!!

[X] tree normal vectors, too blocky trees! try with exported obj models!
	[X] too dark trees now! -> mtl file firs 3 values "Ka" set to 0.500000 !


[X] new pooling -> update shadow occluder activation!!

[X] model pool ageing and clearing later
[X] model pool perfection -> some nodes doesn't display after render!! quad vegetation displays on steeps!!

[X]  MODEL POOL BASED ON VIEW DISTANCE, NOT ON RENDER DISTANCE!! (less memory)
	use with pseoudo nodes!! that are only placed on the scenario to be replaced with real PoolNodes from
		Model pool! The pool will load a node if necessary! renderToViewPort will use the ModelPool, not the
		render part!

[X] jungle big tree - covering all, greens on it?
[X] jungle bush
[X] reinvent renderArea, magnifications?? need distant view too
[X] optimize j3dcore render/renderside (based on profile.txt) to make 
	usable on 15+ DISTANCE with moving too! (3d part is okay now with 6200go)
[-] memory eater -> quadbillboard is not fine enough...eats memory, caching it solved!
[X] Shadow occluder number too much -> hashSet, get distance on every render/ remove add them
[X] update LWJGL/JME from repository
[X] BillboardPartModel with more quads for Lowest detail, math for more quads, 
	add LOD level 3 for single quad
[-] nicer low detail textures for acacia png -> replaced with original texture
[X] billboard ngplant trees, hashmap based, BillboardPartsModel
[X] billboarding the grass! (rotation didnt help! :/)
[X] shadow render pass added! :-)
[-] Naive vegetation development? -> billboarding?? - Quad in other apps too!
[X] darkening veg -> mesh? or what?

[X] redraw Window model, it's too detailed on the lower part, unnecessarily
[X] grass kinds, sophisticated FloraSetup things!
[X] steeper mountain side is buggy with corners!!!

[X] CKeyAction camera settings, bad when looking up/down!

[X] finalize trees, create low level flora
[-] Test ImposterModel on FBO system
[-] ? Strip green from trees, create new Model type, SimpleTreeModel. Would define texture spatial type, plane.
	alpha state, texture etc.

[X] transparent texture finally working! Put some on the trees, collect some in your next journey to the wild ;)
[X] use LODModels!

[X] LODModel -> distanceSwitchedNode -> jungle, increase FPS with less detailed models
[X] ImposterNode http://www.jmonkeyengine.com/wiki/doku.php?id=imposternode - lowest detail - rendered
[X] Billboard http://www.jmonkeyengine.com/wiki/doku.php?id=billboardnode&s=billboard
	

[X] lens flare!
[X] orbiter Suns/Moons each should have own Light direction (see j3dCore for more details on TODO)


[X] Time in engine -> skybox..

[X] jungle middle flora -> leaves, desert cactus model :)
[X] fall down where no GroundSubType! to steep for example!!
[X] Hill_steep.3ds is wrongly rotated! After that fix Mountain.java to user correct SIDES[] for steeps of diff. 
	directions. Then complete Movement Blocking in j3dcore for Climbing.
	
[X] Weather engine - implement Climate -> fauna - climate condition based forest/plain!
	[ ] Change flag for rendered thing!? -> example: climate change callback for already generated parts?


[X] mountain -> steep display all around a new ground level - movement up ahead on it!! + unpassable rockside generation
[X] bug in Globe mode -> houses dont display going round ?
[X] Rendered continuous side bug!

[X] Magnification of Area implementation -> Place will define its magnification RATIO which is used to determine subplaces exact coordinates in a
	far more bigger area to move in!

[ ] world -> ai, place, object, faune, flora

[X] InputHandler -> create classic keyboard movement/turning which calls J3DCore render area renewal too
